(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/goods-details/goods-details"],{"00e5":function(t,e,a){"use strict";a("c16c");var s=i(a("b0ce")),o=i(a("a1a0"));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(o.default))},"8ad1":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",[a("view",{staticClass:"uni-padding-wrap"},[a("view",{staticClass:"page-section swiper"},[a("view",{staticClass:"page-section-spacing"},[a("swiper",{staticClass:"swiper",attrs:{"indicator-dots":t.banner.indicatorDots,"indicator-color":t.banner.indicatorColor,"indicator-active-color":t.banner.indicatorActiveColor,circular:t.banner.circular,autoplay:"true"}},t._l(t.datas.carousel,function(t,e){return a("swiper-item",{key:e,attrs:{mpcomid:"6672aec0-0-"+e}},[a("view",{staticClass:"swiper-item"},[a("image",{attrs:{src:t}})])])}))],1)])]),a("view",{staticClass:"goods_info"},[a("view",{staticClass:"exchange"},[a("view",{staticClass:"exchange_left"},[a("text",[t._v("兑换价：")]),a("text",{staticClass:"exchange_left_text"},[t._v(t._s(t.datas.integral)+"积分")])]),a("view",{staticClass:"exchange_right"},[t._v("兑换量："+t._s(t.datas.alnumber))])]),a("view",{staticClass:"goods_info_title"},[t._v(t._s(t.datas.goods_name))]),a("view",{staticClass:"goods_info_desc"},[t._v(t._s(t.datas.desc))]),a("view",{staticStyle:{"margin-top":"40rpx"}},t._l(t.datas.attribute,function(e,s){return a("view",{key:s,staticClass:"goods_info_spec"},[a("text",[t._v(t._s(e.attr_name)+"：")]),t._l(e.spec_name,function(e,s){return a("view",{key:s,staticClass:"goods_info_spec_content"},[t._v(t._s(e))])})],2)}))]),a("view",{staticClass:"comment"},[0!==t.datas.evaluate.length?a("view",{staticClass:"comment_content"},[a("view",{staticClass:"comment_title"},[a("view",{staticClass:"comment_title_left"},[t._v("商品评论("+t._s(t.datas.evaluate.all_count)+")")]),t._m(0)]),a("view",{staticClass:"comment_user_info"},[a("image",{attrs:{src:t.datas.evaluate.headimgurl}}),a("text",[t._v(t._s(t.datas.evaluate.nickname))])]),a("view",{staticClass:"comment_view"},[t._v(t._s(t.datas.evaluate.content))]),a("view",{staticClass:"comment_image"},t._l(t.datas.evaluate.pic,function(t,e){return a("image",{key:e,attrs:{src:t}})}))]):a("view",{staticClass:"comment_content1"},[t._v("暂无评论")]),a("view",{staticClass:"goods_detais_title"},[t._v("商品详情")]),a("view",{staticClass:"goods_detais"},[a("rich-text",{attrs:{nodes:t.datas.detail,mpcomid:"6672aec0-1"}})],1)]),a("view",{staticClass:"goods_footer"},[t._m(1),a("view",{staticClass:"goods_footer_dh",attrs:{eventid:"6672aec0-0"},on:{tap:function(e){t.popup_active()}}},[t._v("立即兑换")])]),a("view",{staticClass:"backdrop",class:{active_popup:t.active},attrs:{eventid:"6672aec0-1"},on:{tap:function(e){t.popup_active()}}}),a("view",{staticClass:"goods_popup",class:{active_popup:t.active}},[a("view",{staticClass:"goods_popup_title"},[a("view",{staticClass:"goods_popup_title_left"},[a("image",{attrs:{src:t.datas.cover}}),a("view",{staticClass:"goods_popup_title_left_info"},[a("text",{staticClass:"goods_popup_title_left_info_jf"},[t._v(t._s(t.datas.integral)+"积分")]),a("view",{staticClass:"goods_popup_title_left_info_name"},[t._v(t._s(t.datas.goods_name))])])]),a("view",{staticClass:"goods_popup_title_right"},[a("image",{attrs:{src:"../../../static/goods_close.png",eventid:"6672aec0-2"},on:{tap:function(e){t.popup_active()}}})])]),t._l(t.datas.attribute,function(e,s){return a("view",{key:s,staticClass:"goods_popup_spec"},[a("view",{staticClass:"goods_popup_spec_title"},[t._v("选择 "+t._s(e.attr_name))]),a("view",{staticClass:"goods_popup_spec_content"},t._l(e.spec_name,function(e,o){return a("view",{key:o,staticClass:"goods_popup_spec_content_view",class:[t.spec_index==o?"goods_popup_spec_active":""],attrs:{eventid:"6672aec0-3-"+s+"-"+o},on:{tap:function(e){t.goods_popup_spec(o,s)}}},[t._v(t._s(e))])}))])}),a("view",{staticClass:"goods_popup_num"},[a("view",{staticClass:"goods_popup_num_left"},[t._v("购买数量")]),a("view",{staticClass:"goods_popup_num_right"},[a("button",{staticClass:"goods_popup_num_button",attrs:{eventid:"6672aec0-4"},on:{tap:function(e){t.reduce()}}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.goods_num,expression:"goods_num"}],staticClass:"goods_popup_num_input",attrs:{type:"text",eventid:"6672aec0-5"},domProps:{value:t.goods_num},on:{input:function(e){e.target.composing||(t.goods_num=e.target.value)}}}),a("button",{staticClass:"goods_popup_num_button",attrs:{eventid:"6672aec0-6"},on:{tap:function(e){t.add()}}},[t._v("+")])],1)]),a("view",{staticClass:"goods_popup_sub"},[a("button",{attrs:{eventid:"6672aec0-7"},on:{tap:function(e){t.exchange()}}},[t._v("立即兑换")])],1)],2)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"comment_title_right"},[a("text",[t._v("查看全部")]),a("image",{attrs:{src:"../../../static/goods_back.png"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"goods_footer_kf"},[a("image",{attrs:{src:"../../../static/goods_kf.png"}}),a("text",[t._v("客服")])])}];a.d(e,"a",function(){return s}),a.d(e,"b",function(){return o})},a1a0:function(t,e,a){"use strict";a.r(e);var s=a("8ad1"),o=a("c06f");for(var i in o)"default"!==i&&function(t){a.d(e,t,function(){return o[t]})}(i);a("d1f0");var n=a("2877"),c=Object(n["a"])(o["default"],s["a"],s["b"],!1,null,null,null);c.options.__file="goods-details.vue",e["default"]=c.exports},c06f:function(t,e,a){"use strict";a.r(e);var s=a("f96d"),o=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);e["default"]=o.a},d1f0:function(t,e,a){"use strict";var s=a("f254"),o=a.n(s);o.a},f254:function(t,e,a){},f96d:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={data:function(){return{datas:[],banner:{indicatorColor:"#FFFFFF",indicatorActiveColor:"#F6156D",circular:!0,indicatorDots:!0},active:!1,spec_index:"",goods_num:1}},onLoad:function(e){var a=this,s=t.getStorageSync("user_info").token;t.request({url:"http://bus.liebianzhe.com/api/order/goods_details",method:"POST",data:{token:s,gid:e.id},success:function(e){console.info(e.data),console.log("好嗨哦"),1==e.data.code?(a.datas=e.data.data,a.gid=e.data.data.id):10==e.data.code?(t.removeStorage({key:"user_info"}),t.showToast({title:e.data.msg,icon:"none",mask:!1,duration:1e3}),setTimeout(function(){t.reLaunch({url:"../../login/login"})},1500)):t.showToast({title:e.data.msg,icon:"none",mask:!1,duration:1e3})},fail:function(){console.info("请求失败~")}})},methods:{popup_active:function(){this.active=!this.active},goods_popup_spec:function(t,e){this.spec_index=t;var a={};a[e]=t,this.attribute=JSON.stringify(a)},reduce:function(){1==this.goods_num?this.goods_num=1:this.goods_num=parseInt(this.goods_num)-1},add:function(){this.goods_num=parseInt(this.goods_num)+1},exchange:function(){var e=this.gid,a=this.attribute,s=this.goods_num,o=t.getStorageSync("user_info").token;null==a?t.showToast({title:"请先选择规格",mask:!1,duration:1500,icon:"none"}):t.request({url:"http://bus.liebianzhe.com/api/order/place_order",method:"POST",data:{token:o,gid:e,num:s,attribute:a},success:function(e){1==e.data.code?(console.info(e.data),t.setStorageSync("oreder_num",e.data.data),t.showToast({title:e.data.msg,mask:!1,duration:1500,icon:"none"}),setTimeout(function(){t.navigateTo({url:"../confirm-oreder/confirm-oreder?address_type=0"})},2e3)):t.showToast({title:e.data.msg,mask:!1,duration:1500,icon:"none"})},fail:function(){console.info("请求失败~")}})}}};e.default=a}).call(this,a("649d")["default"])}},[["00e5","common/runtime","common/vendor"]]]);